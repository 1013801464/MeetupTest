## 结构

程序分为两部分，`下载组织+成员`和`下载事件`。（有先后顺序）

### 下载组织+成员

程序入口：`下载Group+成员.py`

本程序首先用API下载所有的Group，然后下载每个Group的成员。

下载成员的方式是：首先解析这样的网页`https://www.meetup.com/AppliedSingularity/members/?offset=20&sort=social&desc=1`，获得20个用户ID，然后调用API获取用户详细信息。然后获取下一页的用户ID。

### 下载事件

程序入口：`下载Event.py`

本程序调用API下载事件。由于API最多返回200个事件，本程序通过不断修改API中`no_earlier_than`参数的值下载完所有事件。然后用API获得参加事件的所有成员（虽有200个的限制，但每个活动的参加人数都不超过200人）。

### 保存下载进度

本程序保存了上述两个功能的下载进度。

关于下载成员，本程序可以保存每个组织已经下载到哪一页了，因此程序中断后可以恢复原来的进度。如果需要重置下载进度，请将`member_record.txt`中的内容清空。

关于下载事件，本程序可以保存每个组织是否下载完成。程序中断后重新运行，会跳过已经下载完的组织。如果需要重置下载进度，请将`event_record.txt`中的内容清空。

## 环境

Python 3.7 (可能3.x都能运行)

MongoDB server version: 4.0.4